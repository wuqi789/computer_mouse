/**--------------File Info--------------------------------------------------------------------------------
** File Name:           Micromouse.h
** Last modified Date: 
** Last Version: 
** Description:         电脑鼠控制程序头文件
** 
**-------------------------------------------------------------------------------------------------------
** Created By: 
** Created date: 
** Version: 
** Descriptions: 
**
**-------------------------------------------------------------------------------------------------------
** Modified by:
** Modified date:
** Version:
** Description:
**
*********************************************************************************************************/


#ifndef __MICROMOUSE_H
#define __MICROMOUSE_H


/*********************************************************************************************************
  包含头文件
*********************************************************************************************************/
#include "main.h"


/*********************************************************************************************************
  常量宏定义 -- 搜索法则
*********************************************************************************************************/
#define RIGHTMETHOD         0
#define LEFTMETHOD          1
#define CENTRALMETHOD       2
#define FRONTRIGHTMETHOD    3
#define FRONTLEFTMETHOD     4
#define CORNERMETHOD        5



/*********************************************************************************************************
  常量宏定义 -- 电脑鼠运行绝对方向
*********************************************************************************************************/
#define MAP_UP                  0
#define MAP_RIGHT               1
#define MAP_DOWN                2
#define MAP_LEFT                3

#define MAP_UP_BIT                  (1<<MAP_UP)
#define MAP_RIGHT_BIT               (1<<MAP_RIGHT)
#define MAP_DOWN_BIT                (1<<MAP_DOWN)
#define MAP_LEFT_BIT                (1<<MAP_LEFT)
/*********************************************************************************************************
  常量宏定义 -- 电脑鼠运行相对方向
*********************************************************************************************************/
#define MOUSELEFT           0
#define MOUSEFRONT          1
#define MOUSERIGHT          2


/*********************************************************************************************************
  常量宏定义 -- 用绝对方向来表示相对方向上的资料表位置
*********************************************************************************************************/
#define MOUSEWAY_F          (1 <<   gucMouseDir)
#define MOUSEWAY_R          (1 << ((gucMouseDir + 1) % 4))
#define MOUSEWAY_B          (1 << ((gucMouseDir + 2) % 4))
#define MOUSEWAY_L          (1 << ((gucMouseDir + 3) % 4))

/*********************************************************************************************************
  定义结构体类型
*********************************************************************************************************/
struct mazecoor
{
    __IO int8_t cX;
    __IO int8_t cY;
};
typedef struct mazecoor MazeCoor;

/*********************************************************************************************************
  常量宏定义 -- 迷宫类型
*********************************************************************************************************/
#define MAZETYPE        16                                              /*  8: 四分之一迷宫；16: 全迷宫 */


/*********************************************************************************************************
  常量宏定义 -- 设定四分之一迷宫的终点坐标
*********************************************************************************************************/
#if MAZETYPE == 8
#define XDST0           7
#define XDST1           8
#define YDST0           7
#define YDST1           8
#endif


/*********************************************************************************************************
  常量宏定义 -- 设定全迷宫的终点坐标
*********************************************************************************************************/
#if MAZETYPE == 16
#define XDST0           7
#define XDST1           8
#define YDST0           7
#define YDST1           8
#endif


/*********************************************************************************************************
  常量宏定义 -- 设置迷宫搜索法则
  可以使用的法则:
  RIGHTMETHOD           -- 右手法则
  LEFTMETHOD            -- 左手法则
  CENTRALMETHOD         -- 中心法则
  FRONTRIGHTMETHOD      -- 中右法则
  FRONTLEFTMETHOD       -- 中左法则
  CORNERMETHOD          -- 向角法则
*********************************************************************************************************/
#define SEARCHMETHOD  FRONTRIGHTMETHOD                         

/*********************************************************************************************************
  常量宏定义--前进一个迷宫格步进电机需要走的步数
*********************************************************************************************************/
#define	WHEEL_DIAMETER	1.85
#define PULSE_PER_CM		(16384.0/(WHEEL_DIAMETER*3.14159265))
#define PULSE_HALF_CM		(PULSE_PER_CM/2)
#define ONEBLOCK        (PULSE_PER_CM*18)                              /*  电机走一格迷宫所需脉冲数  */

#endif
/*********************************************************************************************************
  END FILE
*********************************************************************************************************/
